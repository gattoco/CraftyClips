import{m as oe,s as xe,c as y,a as D,b as I,o as K,d as _e,i as x,e as we,t as C,f as A,g as b,S as U,h as $,j as Ce,k as he,l as Se,u as Ae,F as ke,n as z,p as Ee,q as ae,r as Te,v as Le,w as Oe}from"./index-SNy9RXEc.js";import{C as ge}from"./List-AsCyP0NT.js";var Me=C("<svg stroke-width=0>");function q(e,r){const t=oe(e.a,r),[n,s]=xe(t,["src"]),[i,o]=y(""),l=D(()=>r.title?`${e.c}<title>${r.title}</title>`:e.c);return I(()=>o(l())),K(()=>{o("")}),(()=>{var a=Me();return _e(a,oe({get stroke(){return e.a?.stroke},get color(){return r.color||"currentColor"},get fill(){return r.color||"currentColor"},get style(){return{...r.style,overflow:"visible"}}},s,{get height(){return r.size||"1em"},get width(){return r.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return i()}}),!0,!0),x(a,()=>we),a})()}function Ne(e){return q({a:{viewBox:"0 0 384 512"},c:'<path d="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"/>'},e)}function Ue(e){return q({a:{viewBox:"0 0 384 512"},c:'<path d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2l105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"/>'},e)}function Be(e){return q({a:{viewBox:"0 0 512 512"},c:'<path d="M304 48a48 48 0 1 0-96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0-96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0-96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1a48 48 0 1 0 67.9 67.9zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437a48 48 0 1 0 67.9-67.9 48 48 0 1 0-67.9 67.9z"/>'},e)}function Pe(e){return q({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M4.681 3H2V2h3.5l.5.5V6H5V4a5 5 0 1 0 4.53-.761l.302-.954A6 6 0 1 1 4.681 3z" clip-rule="evenodd"/>'},e)}function Re(e,r,t){let n=t.length,s=r.length,i=n,o=0,l=0,a=r[s-1].nextSibling,p=null;for(;o<s||l<i;){if(r[o]===t[l]){o++,l++;continue}for(;r[s-1]===t[i-1];)s--,i--;if(s===o){const c=i<n?l?t[l-1].nextSibling:t[i-l]:a;for(;l<i;)e.insertBefore(t[l++],c)}else if(i===l)for(;o<s;)(!p||!p.has(r[o]))&&r[o].remove(),o++;else if(r[o]===t[i-1]&&t[l]===r[s-1]){const c=r[--s].nextSibling;e.insertBefore(t[l++],r[o++].nextSibling),e.insertBefore(t[--i],c),r[s]=t[i]}else{if(!p){p=new Map;let f=l;for(;f<i;)p.set(t[f],f++)}const c=p.get(r[o]);if(c!=null)if(l<c&&c<i){let f=o,_=1,d;for(;++f<s&&f<i&&!((d=p.get(r[f]))==null||d!==c+_);)_++;if(_>c-l){const S=r[o];for(;l<c;)e.insertBefore(t[l++],S)}else e.replaceChild(t[l++],r[o++])}else o++;else r[o++].remove()}}}const ce="_$DX_DELEGATE";function Fe(e,r,t){const n=document.createElement("template");if(n.innerHTML=e,n.innerHTML.split("<").length-1!==r)throw`The browser resolved template HTML does not match JSX input:
${n.innerHTML}

${e}. Is your HTML properly formed?`;return n.content.firstChild}function ze(e,r=window.document){const t=r[ce]||(r[ce]=new Set);for(let n=0,s=e.length;n<s;n++){const i=e[n];t.has(i)||(t.add(i),r.addEventListener(i,Ie))}}function V(e,r,t){t==null?e.removeAttribute(r):e.setAttribute(r,t)}function De(e,r,t,n){Array.isArray(t)?(e[`$$${r}`]=t[0],e[`$$${r}Data`]=t[1]):e[`$$${r}`]=t}function de(e,r,t={}){const n=Object.keys(r||{}),s=Object.keys(t);let i,o;for(i=0,o=s.length;i<o;i++){const l=s[i];!l||l==="undefined"||r[l]||(fe(e,l,!1),delete t[l])}for(i=0,o=n.length;i<o;i++){const l=n[i],a=!!r[l];!l||l==="undefined"||t[l]===a||!a||(fe(e,l,!0),t[l]=a)}return t}function ue(e,r,t){if(!r)return t?V(e,"style"):r;const n=e.style;if(typeof r=="string")return n.cssText=r;typeof t=="string"&&(n.cssText=t=void 0),t||(t={}),r||(r={});let s,i;for(i in t)r[i]==null&&n.removeProperty(i),delete t[i];for(i in r)s=r[i],s!==t[i]&&(n.setProperty(i,s),t[i]=s);return t}function He(e,r,t){return Ce(()=>e(r,t))}function Q(e,r,t,n){if(t!==void 0&&!n&&(n=[]),typeof r!="function")return j(e,r,n,t);$(s=>j(e,r(),s,t),n)}function fe(e,r,t){const n=r.trim().split(/\s+/);for(let s=0,i=n.length;s<i;s++)e.classList.toggle(n[s],t)}function Ie(e){const r=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),A.registry&&!A.done&&(A.done=!0,document.querySelectorAll("[id^=pl-]").forEach(n=>{for(;n&&n.nodeType!==8&&n.nodeValue!=="pl-"+e;){let s=n.nextSibling;n.remove(),n=s}n&&n.remove()}));t;){const n=t[r];if(n&&!t.disabled){const s=t[`${r}Data`];if(s!==void 0?n.call(t,s,e):n.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function j(e,r,t,n,s){for(A.context&&!t&&(t=[...e.childNodes]);typeof t=="function";)t=t();if(r===t)return t;const i=typeof r,o=n!==void 0;if(e=o&&t[0]&&t[0].parentNode||e,i==="string"||i==="number"){if(A.context)return t;if(i==="number"&&(r=r.toString()),o){let l=t[0];l&&l.nodeType===3?l.data=r:l=document.createTextNode(r),t=R(e,t,n,l)}else t!==""&&typeof t=="string"?t=e.firstChild.data=r:t=e.textContent=r}else if(r==null||i==="boolean"){if(A.context)return t;t=R(e,t,n)}else{if(i==="function")return $(()=>{let l=r();for(;typeof l=="function";)l=l();t=j(e,l,t,n)}),()=>t;if(Array.isArray(r)){const l=[],a=t&&Array.isArray(t);if(W(l,r,t,s))return $(()=>t=j(e,l,t,n,!0)),()=>t;if(A.context){if(!l.length)return t;for(let p=0;p<l.length;p++)if(l[p].parentNode)return t=l}if(l.length===0){if(t=R(e,t,n),o)return t}else a?t.length===0?pe(e,l,n):Re(e,t,l):(t&&R(e),pe(e,l));t=l}else if(r instanceof Node){if(A.context&&r.parentNode)return t=o?[r]:r;if(Array.isArray(t)){if(o)return t=R(e,t,n,r);R(e,t,null,r)}else t==null||t===""||!e.firstChild?e.appendChild(r):e.replaceChild(r,e.firstChild);t=r}else console.warn("Unrecognized value. Skipped inserting",r)}return t}function W(e,r,t,n){let s=!1;for(let i=0,o=r.length;i<o;i++){let l=r[i],a=t&&t[i];if(l instanceof Node)e.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))s=W(e,l,a)||s;else if(typeof l=="function")if(n){for(;typeof l=="function";)l=l();s=W(e,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||s}else e.push(l),s=!0;else{const p=String(l);p==="<!>"?a&&a.nodeType===8&&e.push(a):a&&a.nodeType===3?(a.data=p,e.push(a)):e.push(document.createTextNode(p))}}return s}function pe(e,r,t=null){for(let n=0,s=r.length;n<s;n++)e.insertBefore(r[n],t)}function R(e,r,t,n){if(t===void 0)return e.textContent="";const s=n||document.createTextNode("");if(r.length){let i=!1;for(let o=r.length-1;o>=0;o--){const l=r[o];if(s!==l){const a=l.parentNode===e;!i&&!o?a?e.replaceChild(s,l):e.insertBefore(s,t):a&&l.remove()}else i=!0}}else e.insertBefore(s,t);return[s]}const Ve="http://www.w3.org/2000/svg";function je(e,r=!1){return r?document.createElementNS(Ve,e):document.createElement(e)}function qe(e){const{useShadow:r}=e,t=document.createTextNode(""),n=()=>e.mount||document.body,s=D(i());function i(){if(A.context){const[o,l]=y(!1);return he(()=>l(!0)),()=>o()&&e.children}else return()=>e.children}return $(()=>{const o=n();if(o instanceof HTMLHeadElement){const[l,a]=y(!1),p=()=>a(!0);Se(c=>Q(o,()=>l()?c():s(),null)),K(()=>{A.context?queueMicrotask(p):p()})}else{const l=je(e.isSVG?"g":"div",e.isSVG),a=r&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return t.parentNode},configurable:!0}),Q(a,s),o.appendChild(l),e.ref&&e.ref(l),K(()=>o.removeChild(l))}}),t}const Ge='a, button:not(:disabled), input, textarea, select, details, [tabindex]:not([tabindex="-1"])',Xe=e=>Array.from(e.querySelectorAll(Ge));var Y=(e=>(e.TAB="Tab",e.ESCAPE="Escape",e))(Y||{});const Je=Fe('<div role="presentation"><div aria-modal="true" tabindex="0"></div></div>',4),Ke={position:"fixed",padding:"1rem",top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"auto",border:"1px solid rgba(200, 200, 200, 0.5)","background-color":"white","border-radius":"1rem","max-height":"90%","max-width":"90%"},Qe={position:"fixed",inset:"0 0 0 0","background-color":"rgba(255, 255, 255, 0.5)"},We=e=>{let r,t,n=[];const s={"solid-modal-overlay":!0,[e.overlayClass]:!!e.overlayClass},i={"solid-modal-content":!0,[e.contentClass]:!!e.contentClass},o=c=>{n.length>1?n[0].focus():c.focus()},l=c=>{c<n.length-1?n[c+1].focus():n[0].focus()},a=c=>{c>0?n[c-1].focus():n[n.length-1].focus()};I(()=>{e.isOpen&&e.children&&r&&(n=Xe(r))}),I(()=>{e.isOpen&&r&&(t=document.activeElement,o(r))}),I(()=>{!e.isOpen&&t&&t.focus()});const p=c=>{switch(c.key){case Y.TAB:if(c.preventDefault(),document.activeElement===r&&n.length>0){c.shiftKey?n[n.length-1].focus():n[0].focus();return}const f=n.findIndex(_=>_===document.activeElement);f>-1&&(c.shiftKey?a(f):l(f));return;case Y.ESCAPE:c.stopPropagation(),e.onCloseRequest();return;default:return}};return b(qe,{get children(){return b(U,{get when(){return e.isOpen},get children(){const c=Je.cloneNode(!0),f=c.firstChild;De(c,"click",e.closeOnOutsideClick?e.onCloseRequest:void 0),f.$$click=d=>d.stopImmediatePropagation();const _=r;return typeof _=="function"?He(_,f):r=f,f.$$keydown=p,Q(f,()=>e.children),$(d=>{const S=e.overlayClass?e.overlayStyle:{...Qe,...e.overlayStyle},B=s,E=e.ariaLabelledBy,T=e.ariaLabel,k=e.contentClass?e.contentStyle:{...Ke,...e.overlayStyle},L=i,v=e.role??"dialog";return d._v$=ue(c,S,d._v$),d._v$2=de(c,B,d._v$2),E!==d._v$3&&V(f,"aria-labelledby",d._v$3=E),T!==d._v$4&&V(f,"aria-label",d._v$4=T),d._v$5=ue(f,k,d._v$5),d._v$6=de(f,L,d._v$6),v!==d._v$7&&V(f,"role",d._v$7=v),d},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),c}})}})};ze(["click","keydown"]);var Ye=C('<div class=mb-4><input type=text placeholder="Enter clip URL"class="p-2 border rounded mr-2 w-full"><button class="py-1 px-4 rounded-full bg-green-500 text-white">Search for Clip'),Ze=C('<div class=mb-4><input type=text placeholder="Enter broadcaster name"class="p-2 border rounded mr-2 w-full"><button class="py-1 px-4 rounded-full bg-green-500 text-white">Search for Broadcaster'),et=C('<div class="flex items-center space-x-4 absolute bg-white p-2 hover:bg-gray-200 rounded-lg shadow"><img class="w-12 h-12 rounded-full"><div><p class=font-semibold>'),tt=C('<div class="mb-6 relative"><h2 class="font-bold mb-2">Add clips by:</h2><div class="flex items-center space-x-4 mb-4"><label><input type=radio name=type value=url class=hidden>URL</label><label><input type=radio name=type value=broadcaster class=hidden>Broadcaster'),rt=C('<div>Last updated: <!> <button class="py-1 px-3 rounded-full bg-blue-500 text-white">'),lt=C('<div class="container mx-auto p-4"><div class="flex justify-between items-center"><div class="flex gap-2"><h2 class="text-xl font-bold mb-4">Clips</h2><button class="py-1 px-3 rounded-full bg-blue-500 text-white">Add clips</button></div></div><div class=mb-6></div><div class=mb-6><span class="font-semibold block mb-2">Filters</span><div class="flex flex-wrap items-center space-x-4"><div class="flex space-x-2"><label><input type=radio name=sort value=created_at class=hidden>Created At</label><label><input type=radio name=sort value=view_count class=hidden>View Count</label><label><input type=radio name=sort value=duration class=hidden>Duration</label></div><div><select id=gameFilter class="p-2 border rounded"><option value="">All Games</option></select></div><div class="flex space-x-2 items-center"><button class="py-1 px-3 rounded-full flex items-center space-x-2 bg-blue-500 text-white">'),nt=C("<option>"),it=C("<span>Oldest"),st=C("<span>Latest"),ot=C('<div class="flex justify-center items-center">');const at=()=>{const[e,r]=y(""),[t,n]=y(),[s,i]=y(""),[o,l]=y(),[a,p]=y("url"),c=async()=>{const d=await Le(e());d&&n(d)},f=d=>{const S=d.split("/");return S[S.length-1]},_=async()=>{const d=await Oe(f(s()));d&&l(d[0])};return(()=>{var d=tt(),S=d.firstChild,B=S.nextSibling,E=B.firstChild,T=E.firstChild,k=E.nextSibling,L=k.firstChild;return T.addEventListener("change",()=>p("url")),L.addEventListener("change",()=>p("broadcaster")),x(d,b(U,{get when(){return a()==="url"},get children(){return[(()=>{var v=Ye(),m=v.firstChild,u=m.nextSibling;return m.$$input=h=>i(h.currentTarget.value),u.$$click=_,$(()=>m.value=s()),v})(),b(U,{get when(){return o()!==void 0},get children(){return b(ge,{get clips(){return D(()=>!!o())()?[o()]:[]}})}})]}}),null),x(d,b(U,{get when(){return a()==="broadcaster"},get children(){return[(()=>{var v=Ze(),m=v.firstChild,u=m.nextSibling;return m.$$input=h=>r(h.currentTarget.value),u.$$click=c,$(()=>m.value=e()),v})(),b(U,{get when(){return t()},get children(){var v=et(),m=v.firstChild,u=m.nextSibling,h=u.firstChild;return x(h,()=>t()?.display_name),$(w=>{var M=t()?.profile_image_url,N=t()?.display_name;return M!==w.e&&ae(m,"src",w.e=M),N!==w.t&&ae(m,"alt",w.t=N),w},{e:void 0,t:void 0}),v}})]}}),null),$(v=>{var m=`cursor-pointer py-1 px-4 rounded-full ${a()==="url"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,u=`cursor-pointer py-1 px-4 rounded-full ${a()==="broadcaster"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`;return m!==v.e&&z(E,v.e=m),u!==v.t&&z(k,v.t=u),v},{e:void 0,t:void 0}),$(()=>T.checked=a()==="url"),$(()=>L.checked=a()==="broadcaster"),d})()},ut=()=>{const{state:e,setState:r}=Ae(),[t,n]=y([]),[s,i]=y(!0),[o,l]=y("created_at"),[a,p]=y("desc"),[c,f]=y(""),[_,d]=y(!1),S=u=>{u||(u=e.clips);const h=T(u,o(),"desc");n(h),l("created_at"),p("desc"),f("")},B=async()=>{i(!0);const u=await Te();u&&(r("clips",u),r("clipsUpdated",Date.now())),k(),i(!1)},E=()=>{const h=e.clipsUpdated;return!h||Date.now()-h>36e5};he(()=>{!e.clips.length&&E()?B():(S(),i(!1))});const T=(u,h,w)=>[...u].sort((M,N)=>{let P=0;return h==="created_at"||h==="duration"?P=new Date(M[h]).getTime()-new Date(N[h]).getTime():h==="view_count"&&(P=M.view_count-N.view_count),w==="asc"?P:-P}),k=()=>{let u=e.clips;c()&&(u=u.filter(w=>w.game_id===c()));const h=T(u,o(),a());n(h)},L=u=>{l(u),k()},v=u=>{f(u.target.value),k()},m=u=>{p(u),k()};return(()=>{var u=lt(),h=u.firstChild,w=h.firstChild,M=w.firstChild,N=M.nextSibling,P=h.nextSibling,ve=P.nextSibling,be=ve.firstChild,me=be.nextSibling,Z=me.firstChild,G=Z.firstChild,ee=G.firstChild,X=G.nextSibling,te=X.firstChild,re=X.nextSibling,le=re.firstChild,ne=Z.nextSibling,J=ne.firstChild;J.firstChild;var $e=ne.nextSibling,ie=$e.firstChild;return N.$$click=()=>d(!0),x(h,b(U,{get when(){return e.clipsUpdated},get children(){var g=rt(),O=g.firstChild,F=O.nextSibling,H=F.nextSibling,se=H.nextSibling;return x(g,(()=>{var ye=D(()=>!!e.clipsUpdated);return()=>ye()?new Date(e.clipsUpdated).toLocaleString():"Never"})(),F),se.$$click=B,x(se,b(Pe,{})),g}}),null),ee.addEventListener("change",()=>L("created_at")),te.addEventListener("change",()=>L("view_count")),le.addEventListener("change",()=>L("duration")),J.addEventListener("change",v),x(J,b(ke,{get each(){return Array.from(new Set(e.clips.map(g=>g.game?.name)))},children:g=>(()=>{var O=nt();return O.value=g,x(O,g),O})()}),null),ie.$$click=()=>m(a()==="asc"?"desc":"asc"),x(ie,(()=>{var g=D(()=>a()==="asc");return()=>g()?[b(Ue,{})," ",it()]:[b(Ne,{})," ",st()]})()),x(u,b(U,{get when(){return!s()},get fallback(){return(()=>{var g=ot();return x(g,b(Be,{class:"animate-spin text-3xl"})),g})()},get children(){return b(ge,{get clips(){return t()}})}}),null),x(u,b(We,{get isOpen(){return _()},onCloseRequest:()=>d(!1),get children(){return b(at,{})}}),null),$(g=>{var O=`cursor-pointer py-1 px-3 rounded-full ${o()==="created_at"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,F=`cursor-pointer py-1 px-3 rounded-full ${o()==="view_count"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,H=`cursor-pointer py-1 px-3 rounded-full ${o()==="duration"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`;return O!==g.e&&z(G,g.e=O),F!==g.t&&z(X,g.t=F),H!==g.a&&z(re,g.a=H),g},{e:void 0,t:void 0,a:void 0}),$(()=>ee.checked=o()==="created_at"),$(()=>te.checked=o()==="view_count"),$(()=>le.checked=o()==="duration"),u})()};Ee(["input","click"]);export{ut as default};
