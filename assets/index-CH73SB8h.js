import{u as U,f as p,i as r,a as o,b as m,F as k,S as y,e as B,l as D,k as H,t as a}from"./index-CPbyo8j3.js";import{C as V,d as j}from"./List-Ctgz47Ji.js";var q=a('<h2 class="text-lg font-bold mb-2">Select Clips to Add/Remove'),z=a("<div class=space-y-2>"),G=a('<h2 class="text-lg font-bold mt-6">'),J=a('<div class=mt-4><a class="text-blue-500 underline">View queue'),K=a('<div class="container mx-auto p-4"><div class=mb-6><h2 class="text-lg font-bold mb-2">Select a Queue</h2><select class="p-2 border rounded w-full"><option value=all>All Clips</option></select></div><div class=mb-6><input class="p-2 border rounded w-full mb-2"type=text placeholder="New Queue Name"><button class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600">Create new queue</button></div><div class=mb-6><button class="bg-purple-500 text-white py-2 px-4 rounded hover:bg-purple-600">'),O=a("<option>"),P=a('<div class="flex items-center space-x-2"><input type=checkbox><span>');const Y=()=>{const{state:d,setState:f}=U(),[c,v]=p(d.clipQueue??[]),[n,h]=p(null),[_,C]=p(""),[$,N]=p(!1),S=e=>e?e.clips.map(t=>d.clips.find(s=>s.id===t)).filter(t=>!!t):d.clips,A=e=>{if(!n())return;const t={...n(),clips:n().clips.includes(e)?n().clips.filter(s=>s!==e):[...n().clips,e]};h(t),v(s=>s.map(u=>u.id===t.id?t:u)),f("clipQueue",[...c()])},E=()=>{const e=_().trim();if(e){const t={name:e,clips:[],id:j()};v([...c(),t]),C(""),f("clipQueue",[...c(),t])}},F=e=>{if(e==="all")h(null);else{const t=c().find(s=>s.id===e)||null;h(t)}};return(()=>{var e=K(),t=e.firstChild,s=t.firstChild,u=s.nextSibling;u.firstChild;var x=t.nextSibling,g=x.firstChild,L=g.nextSibling,M=x.nextSibling,Q=M.firstChild;return u.addEventListener("change",l=>F(l.currentTarget.value)),r(u,o(k,{get each(){return c()},children:l=>(()=>{var i=O();return r(i,()=>l.name),m(()=>i.value=l.id),i})()}),null),g.$$input=l=>C(l.currentTarget.value),L.$$click=E,Q.$$click=()=>N(!$()),r(Q,()=>$()?"Hide Clip Selector":"Show Clip Selector"),r(e,o(y,{get when(){return $()},get children(){return[q(),(()=>{var l=z();return r(l,o(k,{get each(){return d.clips},children:i=>(()=>{var w=P(),b=w.firstChild,R=b.nextSibling;return b.addEventListener("change",()=>A(i.id)),r(R,()=>i.title),m(()=>b.checked=S(n()).some(T=>T.id===i.id)),w})()})),l})()]}}),null),r(e,o(y,{get when(){return n()!==null||n()===null},get children(){return[(()=>{var l=G();return r(l,(()=>{var i=B(()=>!!n());return()=>i()?`Queue: ${n()?.name}`:"All Clips"})()),l})(),(()=>{var l=J(),i=l.firstChild;return m(()=>D(i,"href",`/clips/clipmanager/${n()?n().id:"all"}`)),l})(),o(V,{get clips(){return S(n())}})]}}),null),m(()=>g.value=_()),e})()};H(["input","click"]);export{Y as default};
