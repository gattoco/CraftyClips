import{m as ce,s as _e,c as $,a as z,b as j,o as W,d as we,i as x,e as Ce,t as w,f as A,g as b,S as N,h as y,j as Se,k as ve,l as Ae,u as ke,F as Te,n as F,p as Ee,q as de,r as Le,v as Oe,w as Me}from"./index-DV8eZrzI.js";import{C as me}from"./List-CIeUuqkq.js";var Ne=w("<svg stroke-width=0>");function X(e,r){const t=ce(e.a,r),[n,s]=_e(t,["src"]),[i,o]=$(""),l=z(()=>r.title?`${e.c}<title>${r.title}</title>`:e.c);return j(()=>o(l())),W(()=>{o("")}),(()=>{var a=Ne();return we(a,ce({get stroke(){return e.a?.stroke},get color(){return r.color||"currentColor"},get fill(){return r.color||"currentColor"},get style(){return{...r.style,overflow:"visible"}}},s,{get height(){return r.size||"1em"},get width(){return r.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return i()}}),!0,!0),x(a,()=>Ce),a})()}function Ue(e){return X({a:{viewBox:"0 0 384 512"},c:'<path d="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"/>'},e)}function Be(e){return X({a:{viewBox:"0 0 384 512"},c:'<path d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2l105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"/>'},e)}function Pe(e){return X({a:{viewBox:"0 0 512 512"},c:'<path d="M304 48a48 48 0 1 0-96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0-96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0-96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1a48 48 0 1 0 67.9 67.9zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437a48 48 0 1 0 67.9-67.9 48 48 0 1 0-67.9 67.9z"/>'},e)}function Re(e){return X({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M4.681 3H2V2h3.5l.5.5V6H5V4a5 5 0 1 0 4.53-.761l.302-.954A6 6 0 1 1 4.681 3z" clip-rule="evenodd"/>'},e)}function Fe(e,r,t){let n=t.length,s=r.length,i=n,o=0,l=0,a=r[s-1].nextSibling,p=null;for(;o<s||l<i;){if(r[o]===t[l]){o++,l++;continue}for(;r[s-1]===t[i-1];)s--,i--;if(s===o){const c=i<n?l?t[l-1].nextSibling:t[i-l]:a;for(;l<i;)e.insertBefore(t[l++],c)}else if(i===l)for(;o<s;)(!p||!p.has(r[o]))&&r[o].remove(),o++;else if(r[o]===t[i-1]&&t[l]===r[s-1]){const c=r[--s].nextSibling;e.insertBefore(t[l++],r[o++].nextSibling),e.insertBefore(t[--i],c),r[s]=t[i]}else{if(!p){p=new Map;let f=l;for(;f<i;)p.set(t[f],f++)}const c=p.get(r[o]);if(c!=null)if(l<c&&c<i){let f=o,_=1,d;for(;++f<s&&f<i&&!((d=p.get(r[f]))==null||d!==c+_);)_++;if(_>c-l){const C=r[o];for(;l<c;)e.insertBefore(t[l++],C)}else e.replaceChild(t[l++],r[o++])}else o++;else r[o++].remove()}}}const ue="_$DX_DELEGATE";function ze(e,r,t){const n=document.createElement("template");if(n.innerHTML=e,n.innerHTML.split("<").length-1!==r)throw`The browser resolved template HTML does not match JSX input:
${n.innerHTML}

${e}. Is your HTML properly formed?`;return n.content.firstChild}function De(e,r=window.document){const t=r[ue]||(r[ue]=new Set);for(let n=0,s=e.length;n<s;n++){const i=e[n];t.has(i)||(t.add(i),r.addEventListener(i,Ve))}}function q(e,r,t){t==null?e.removeAttribute(r):e.setAttribute(r,t)}function He(e,r,t,n){Array.isArray(t)?(e[`$$${r}`]=t[0],e[`$$${r}Data`]=t[1]):e[`$$${r}`]=t}function fe(e,r,t={}){const n=Object.keys(r||{}),s=Object.keys(t);let i,o;for(i=0,o=s.length;i<o;i++){const l=s[i];!l||l==="undefined"||r[l]||(he(e,l,!1),delete t[l])}for(i=0,o=n.length;i<o;i++){const l=n[i],a=!!r[l];!l||l==="undefined"||t[l]===a||!a||(he(e,l,!0),t[l]=a)}return t}function pe(e,r,t){if(!r)return t?q(e,"style"):r;const n=e.style;if(typeof r=="string")return n.cssText=r;typeof t=="string"&&(n.cssText=t=void 0),t||(t={}),r||(r={});let s,i;for(i in t)r[i]==null&&n.removeProperty(i),delete t[i];for(i in r)s=r[i],s!==t[i]&&(n.setProperty(i,s),t[i]=s);return t}function Ie(e,r,t){return Se(()=>e(r,t))}function Y(e,r,t,n){if(t!==void 0&&!n&&(n=[]),typeof r!="function")return G(e,r,n,t);y(s=>G(e,r(),s,t),n)}function he(e,r,t){const n=r.trim().split(/\s+/);for(let s=0,i=n.length;s<i;s++)e.classList.toggle(n[s],t)}function Ve(e){const r=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),A.registry&&!A.done&&(A.done=!0,document.querySelectorAll("[id^=pl-]").forEach(n=>{for(;n&&n.nodeType!==8&&n.nodeValue!=="pl-"+e;){let s=n.nextSibling;n.remove(),n=s}n&&n.remove()}));t;){const n=t[r];if(n&&!t.disabled){const s=t[`${r}Data`];if(s!==void 0?n.call(t,s,e):n.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function G(e,r,t,n,s){for(A.context&&!t&&(t=[...e.childNodes]);typeof t=="function";)t=t();if(r===t)return t;const i=typeof r,o=n!==void 0;if(e=o&&t[0]&&t[0].parentNode||e,i==="string"||i==="number"){if(A.context)return t;if(i==="number"&&(r=r.toString()),o){let l=t[0];l&&l.nodeType===3?l.data=r:l=document.createTextNode(r),t=P(e,t,n,l)}else t!==""&&typeof t=="string"?t=e.firstChild.data=r:t=e.textContent=r}else if(r==null||i==="boolean"){if(A.context)return t;t=P(e,t,n)}else{if(i==="function")return y(()=>{let l=r();for(;typeof l=="function";)l=l();t=G(e,l,t,n)}),()=>t;if(Array.isArray(r)){const l=[],a=t&&Array.isArray(t);if(Z(l,r,t,s))return y(()=>t=G(e,l,t,n,!0)),()=>t;if(A.context){if(!l.length)return t;for(let p=0;p<l.length;p++)if(l[p].parentNode)return t=l}if(l.length===0){if(t=P(e,t,n),o)return t}else a?t.length===0?ge(e,l,n):Fe(e,t,l):(t&&P(e),ge(e,l));t=l}else if(r instanceof Node){if(A.context&&r.parentNode)return t=o?[r]:r;if(Array.isArray(t)){if(o)return t=P(e,t,n,r);P(e,t,null,r)}else t==null||t===""||!e.firstChild?e.appendChild(r):e.replaceChild(r,e.firstChild);t=r}else console.warn("Unrecognized value. Skipped inserting",r)}return t}function Z(e,r,t,n){let s=!1;for(let i=0,o=r.length;i<o;i++){let l=r[i],a=t&&t[i];if(l instanceof Node)e.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))s=Z(e,l,a)||s;else if(typeof l=="function")if(n){for(;typeof l=="function";)l=l();s=Z(e,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||s}else e.push(l),s=!0;else{const p=String(l);p==="<!>"?a&&a.nodeType===8&&e.push(a):a&&a.nodeType===3?(a.data=p,e.push(a)):e.push(document.createTextNode(p))}}return s}function ge(e,r,t=null){for(let n=0,s=r.length;n<s;n++)e.insertBefore(r[n],t)}function P(e,r,t,n){if(t===void 0)return e.textContent="";const s=n||document.createTextNode("");if(r.length){let i=!1;for(let o=r.length-1;o>=0;o--){const l=r[o];if(s!==l){const a=l.parentNode===e;!i&&!o?a?e.replaceChild(s,l):e.insertBefore(s,t):a&&l.remove()}else i=!0}}else e.insertBefore(s,t);return[s]}const je="http://www.w3.org/2000/svg";function qe(e,r=!1){return r?document.createElementNS(je,e):document.createElement(e)}function Ge(e){const{useShadow:r}=e,t=document.createTextNode(""),n=()=>e.mount||document.body,s=z(i());function i(){if(A.context){const[o,l]=$(!1);return ve(()=>l(!0)),()=>o()&&e.children}else return()=>e.children}return y(()=>{const o=n();if(o instanceof HTMLHeadElement){const[l,a]=$(!1),p=()=>a(!0);Ae(c=>Y(o,()=>l()?c():s(),null)),W(()=>{A.context?queueMicrotask(p):p()})}else{const l=qe(e.isSVG?"g":"div",e.isSVG),a=r&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return t.parentNode},configurable:!0}),Y(a,s),o.appendChild(l),e.ref&&e.ref(l),W(()=>o.removeChild(l))}}),t}const Xe='a, button:not(:disabled), input, textarea, select, details, [tabindex]:not([tabindex="-1"])',Je=e=>Array.from(e.querySelectorAll(Xe));var ee=(e=>(e.TAB="Tab",e.ESCAPE="Escape",e))(ee||{});const Ke=ze('<div role="presentation"><div aria-modal="true" tabindex="0"></div></div>',4),Qe={position:"fixed",padding:"1rem",top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"auto",border:"1px solid rgba(200, 200, 200, 0.5)","background-color":"white","border-radius":"1rem","max-height":"90%","max-width":"90%"},We={position:"fixed",inset:"0 0 0 0","background-color":"rgba(255, 255, 255, 0.5)"},Ye=e=>{let r,t,n=[];const s={"solid-modal-overlay":!0,[e.overlayClass]:!!e.overlayClass},i={"solid-modal-content":!0,[e.contentClass]:!!e.contentClass},o=c=>{n.length>1?n[0].focus():c.focus()},l=c=>{c<n.length-1?n[c+1].focus():n[0].focus()},a=c=>{c>0?n[c-1].focus():n[n.length-1].focus()};j(()=>{e.isOpen&&e.children&&r&&(n=Je(r))}),j(()=>{e.isOpen&&r&&(t=document.activeElement,o(r))}),j(()=>{!e.isOpen&&t&&t.focus()});const p=c=>{switch(c.key){case ee.TAB:if(c.preventDefault(),document.activeElement===r&&n.length>0){c.shiftKey?n[n.length-1].focus():n[0].focus();return}const f=n.findIndex(_=>_===document.activeElement);f>-1&&(c.shiftKey?a(f):l(f));return;case ee.ESCAPE:c.stopPropagation(),e.onCloseRequest();return;default:return}};return b(Ge,{get children(){return b(N,{get when(){return e.isOpen},get children(){const c=Ke.cloneNode(!0),f=c.firstChild;He(c,"click",e.closeOnOutsideClick?e.onCloseRequest:void 0),f.$$click=d=>d.stopImmediatePropagation();const _=r;return typeof _=="function"?Ie(_,f):r=f,f.$$keydown=p,Y(f,()=>e.children),y(d=>{const C=e.overlayClass?e.overlayStyle:{...We,...e.overlayStyle},D=s,k=e.ariaLabelledBy,T=e.ariaLabel,U=e.contentClass?e.contentStyle:{...Qe,...e.overlayStyle},O=i,h=e.role??"dialog";return d._v$=pe(c,C,d._v$),d._v$2=fe(c,D,d._v$2),k!==d._v$3&&q(f,"aria-labelledby",d._v$3=k),T!==d._v$4&&q(f,"aria-label",d._v$4=T),d._v$5=pe(f,U,d._v$5),d._v$6=fe(f,O,d._v$6),h!==d._v$7&&q(f,"role",d._v$7=h),d},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),c}})}})};De(["click","keydown"]);var Ze=w('<div class=mb-4><input type=text placeholder="Enter clip URL"class="p-2 border rounded mr-2 w-full"><button class="py-1 px-4 rounded-full bg-green-500 text-white">Search for Clip'),et=w('<div class=mb-4><input type=text placeholder="Enter broadcaster name"class="p-2 border rounded mr-2 w-full"><button class="py-1 px-4 rounded-full bg-green-500 text-white">Search for Broadcaster'),tt=w('<div class="flex items-center space-x-4 absolute bg-white p-2 hover:bg-gray-200 rounded-lg shadow"><img class="w-12 h-12 rounded-full"><div><p class=font-semibold>'),rt=w('<div class="mb-6 relative"><h2 class="font-bold mb-2">Add clips by:</h2><div class="flex items-center space-x-4 mb-4"><label><input type=radio name=type value=url class=hidden>URL</label><label><input type=radio name=type value=broadcaster class=hidden>Broadcaster'),lt=w('<div>Last updated: <!> <button class="py-1 px-3 rounded-full bg-blue-500 text-white">'),nt=w('<div class="container mx-auto p-4"><div class="flex justify-between items-center"><div class="flex gap-2"><h2 class="text-xl font-bold mb-4">Clips</h2><button class="py-1 px-3 rounded-full bg-blue-500 text-white">Add clips</button></div></div><div class=mb-6><span class="font-semibold block mb-2">Filters</span><div class="flex flex-wrap items-center space-x-4"><div class="flex space-x-2"><label><input type=radio name=sort value=created_at class=hidden>Created At</label><label><input type=radio name=sort value=view_count class=hidden>View Count</label><label><input type=radio name=sort value=duration class=hidden>Duration</label></div><div><select id=gameFilter class="p-2 border rounded"><option value="">All Games</option></select></div><div class="flex space-x-2 items-center"><button class="py-1 px-3 rounded-full flex items-center space-x-2 bg-blue-500 text-white">'),it=w("<option>"),st=w("<span>Oldest"),ot=w("<span>Latest"),at=w('<div class="flex justify-center items-center">');const ct=()=>{const[e,r]=$(""),[t,n]=$(),[s,i]=$(""),[o,l]=$(),[a,p]=$("url"),c=async()=>{const d=await Oe(e());d&&n(d)},f=d=>{const C=d.split("/");return C[C.length-1]},_=async()=>{const d=await Me(f(s()));d&&l(d[0])};return(()=>{var d=rt(),C=d.firstChild,D=C.nextSibling,k=D.firstChild,T=k.firstChild,U=k.nextSibling,O=U.firstChild;return T.addEventListener("change",()=>p("url")),O.addEventListener("change",()=>p("broadcaster")),x(d,b(N,{get when(){return a()==="url"},get children(){return[(()=>{var h=Ze(),m=h.firstChild,S=m.nextSibling;return m.$$input=M=>i(M.currentTarget.value),S.$$click=_,y(()=>m.value=s()),h})(),b(N,{get when(){return o()!==void 0},get children(){return b(me,{get clips(){return z(()=>!!o())()?[o()]:[]},layout:"list"})}})]}}),null),x(d,b(N,{get when(){return a()==="broadcaster"},get children(){return[(()=>{var h=et(),m=h.firstChild,S=m.nextSibling;return m.$$input=M=>r(M.currentTarget.value),S.$$click=c,y(()=>m.value=e()),h})(),b(N,{get when(){return t()},get children(){var h=tt(),m=h.firstChild,S=m.nextSibling,M=S.firstChild;return x(M,()=>t()?.display_name),y(u=>{var v=t()?.profile_image_url,E=t()?.display_name;return v!==u.e&&de(m,"src",u.e=v),E!==u.t&&de(m,"alt",u.t=E),u},{e:void 0,t:void 0}),h}})]}}),null),y(h=>{var m=`cursor-pointer py-1 px-4 rounded-full ${a()==="url"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,S=`cursor-pointer py-1 px-4 rounded-full ${a()==="broadcaster"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`;return m!==h.e&&F(k,h.e=m),S!==h.t&&F(U,h.t=S),h},{e:void 0,t:void 0}),y(()=>T.checked=a()==="url"),y(()=>O.checked=a()==="broadcaster"),d})()},ft=()=>{const{state:e,setState:r}=ke(),[t,n]=$([]),[s,i]=$(!0),[o,l]=$("created_at"),[a,p]=$("desc"),[c,f]=$(""),[_,d]=$(!1),[C,D]=$("grid"),k=u=>{u||(u=e.clips);const v=O(u,o(),"desc");n(v),l("created_at"),p("desc"),f("")},T=async()=>{i(!0);const u=await Le();u&&(r("clips",u),r("clipsUpdated",Date.now())),h(),i(!1)},U=()=>{const v=e.clipsUpdated;return!v||Date.now()-v>36e5};ve(()=>{!e.clips.length&&U()?T():(k(),i(!1))});const O=(u,v,E)=>[...u].sort((H,I)=>{let B=0;return v==="created_at"||v==="duration"?B=new Date(H[v]).getTime()-new Date(I[v]).getTime():v==="view_count"&&(B=H.view_count-I.view_count),E==="asc"?B:-B}),h=()=>{let u=e.clips;c()&&(u=u.filter(E=>E.game_id===c()));const v=O(u,o(),a());n(v)},m=u=>{l(u),h()},S=u=>{f(u.target.value),h()},M=u=>{p(u),h()};return(()=>{var u=nt(),v=u.firstChild,E=v.firstChild,H=E.firstChild,I=H.nextSibling,B=v.nextSibling,be=B.firstChild,$e=be.nextSibling,te=$e.firstChild,J=te.firstChild,re=J.firstChild,K=J.nextSibling,le=K.firstChild,ne=K.nextSibling,ie=ne.firstChild,se=te.nextSibling,Q=se.firstChild;Q.firstChild;var ye=se.nextSibling,oe=ye.firstChild;return I.$$click=()=>d(!0),x(v,b(N,{get when(){return e.clipsUpdated},get children(){var g=lt(),L=g.firstChild,R=L.nextSibling,V=R.nextSibling,ae=V.nextSibling;return x(g,(()=>{var xe=z(()=>!!e.clipsUpdated);return()=>xe()?new Date(e.clipsUpdated).toLocaleString():"Never"})(),R),ae.$$click=T,x(ae,b(Re,{})),g}}),null),re.addEventListener("change",()=>m("created_at")),le.addEventListener("change",()=>m("view_count")),ie.addEventListener("change",()=>m("duration")),Q.addEventListener("change",S),x(Q,b(Te,{get each(){return Array.from(new Set(e.clips.map(g=>g.game?.name)))},children:g=>(()=>{var L=it();return L.value=g,x(L,g),L})()}),null),oe.$$click=()=>M(a()==="asc"?"desc":"asc"),x(oe,(()=>{var g=z(()=>a()==="asc");return()=>g()?[b(Be,{})," ",st()]:[b(Ue,{})," ",ot()]})()),x(u,b(N,{get when(){return!s()},get fallback(){return(()=>{var g=at();return x(g,b(Pe,{class:"animate-spin text-3xl"})),g})()},get children(){return b(me,{get clips(){return t()},get layout(){return C()}})}}),null),x(u,b(Ye,{get isOpen(){return _()},onCloseRequest:()=>d(!1),closeOnOutsideClick:!0,get children(){return b(ct,{})}}),null),y(g=>{var L=`cursor-pointer py-1 px-3 rounded-full ${o()==="created_at"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,R=`cursor-pointer py-1 px-3 rounded-full ${o()==="view_count"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,V=`cursor-pointer py-1 px-3 rounded-full ${o()==="duration"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`;return L!==g.e&&F(J,g.e=L),R!==g.t&&F(K,g.t=R),V!==g.a&&F(ne,g.a=V),g},{e:void 0,t:void 0,a:void 0}),y(()=>re.checked=o()==="created_at"),y(()=>le.checked=o()==="view_count"),y(()=>ie.checked=o()==="duration"),u})()};Ee(["input","click"]);export{ft as default};
