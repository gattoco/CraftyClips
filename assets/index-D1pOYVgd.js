import{u as U,c as d,i as s,b as o,a as m,F as k,S as y,g as B,l as D,d as H,t as a}from"./index-ftddjb8n.js";import{C as V}from"./List-hKFnjzmT.js";import{b as j}from"./twitch-CccCcZ0K.js";var q=a('<h2 class="text-lg font-bold mb-2">Select Clips to Add/Remove'),z=a("<div class=space-y-2>"),G=a('<h2 class="text-lg font-bold mt-6">'),J=a('<div class=mt-4><a class="text-blue-500 underline">View queue'),K=a('<div class="container mx-auto p-4"><div class=mb-6><h2 class="text-lg font-bold mb-2">Select a Queue</h2><select class="p-2 border rounded w-full"><option value=all>All Clips</option></select></div><div class=mb-6><input class="p-2 border rounded w-full mb-2"type=text placeholder="New Queue Name"><button class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600">Create new queue</button></div><div class=mb-6><button class="bg-purple-500 text-white py-2 px-4 rounded hover:bg-purple-600">'),O=a("<option>"),P=a('<div class="flex items-center space-x-2"><input type=checkbox><span>');const Z=()=>{const{state:p,setState:f}=U(),[c,v]=d(p.clipQueue??[]),[i,h]=d(null),[_,C]=d(""),[$,N]=d(!1),S=e=>e?e.clips.map(t=>p.clips.find(r=>r.id===t)).filter(t=>!!t):p.clips,A=e=>{if(!i())return;const t={...i(),clips:i().clips.includes(e)?i().clips.filter(r=>r!==e):[...i().clips,e]};h(t),v(r=>r.map(u=>u.id===t.id?t:u)),f("clipQueue",[...c()])},E=()=>{const e=_().trim();if(e){const t={name:e,clips:[],id:j()};v([...c(),t]),C(""),f("clipQueue",[...c(),t])}},F=e=>{if(e==="all")h(null);else{const t=c().find(r=>r.id===e)||null;h(t)}};return(()=>{var e=K(),t=e.firstChild,r=t.firstChild,u=r.nextSibling;u.firstChild;var x=t.nextSibling,g=x.firstChild,L=g.nextSibling,M=x.nextSibling,Q=M.firstChild;return u.addEventListener("change",l=>F(l.currentTarget.value)),s(u,o(k,{get each(){return c()},children:l=>(()=>{var n=O();return s(n,()=>l.name),m(()=>n.value=l.id),n})()}),null),g.$$input=l=>C(l.currentTarget.value),L.$$click=E,Q.$$click=()=>N(!$()),s(Q,()=>$()?"Hide Clip Selector":"Show Clip Selector"),s(e,o(y,{get when(){return $()},get children(){return[q(),(()=>{var l=z();return s(l,o(k,{get each(){return p.clips},children:n=>(()=>{var w=P(),b=w.firstChild,R=b.nextSibling;return b.addEventListener("change",()=>A(n.id)),s(R,()=>n.title),m(()=>b.checked=S(i()).some(T=>T.id===n.id)),w})()})),l})()]}}),null),s(e,o(y,{get when(){return i()!==null||i()===null},get children(){return[(()=>{var l=G();return s(l,(()=>{var n=B(()=>!!i());return()=>n()?`Queue: ${i()?.name}`:"All Clips"})()),l})(),(()=>{var l=J(),n=l.firstChild;return m(()=>D(n,"href",`/clips/clipmanager/${i()?i().id:"all"}`)),l})(),o(V,{get clips(){return S(i())}})]}}),null),m(()=>g.value=_()),e})()};H(["input","click"]);export{Z as default};
